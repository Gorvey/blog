---
title: 01作用域和作用域链
date: 2020-09-29 15:28:01
permalink: /pages/1a0250/
categories:
  - JavaScript进阶
  - 作用域和闭包
tags:
  -
---

::: tip 注意
这篇文章更像是对`《你不知道的JavaScript》`第一章的总结。因为小黄书写得太好了
:::

## 作用域(Scope)

> 作用域是一套规则，用于确定在何处以及如何查找变量(标识符)
> 也就是控制代码对变量，函数，对象的访问权限
> JavaScript 使用了词法作用域，也就是静态作用域

## 词法作用域

- 词法作用域

  函数的作用域在函数定义的时候决定(`js采用`)

- 动态作用域

  和词法作用域相反的是动态作用域，函数的作用域在调用的时候才决定

例子:

<<< @/codeSnippets/js/作用域.js#01

![作用域](https://cdn.jsdelivr.net/gh/Zeng-Zhe/image_store/blog/20200930143903.png)

首先调用 bar()函数，在`bar`函数内部调用`foo()`，会在 `foo 作用域(2)`内寻找`value`。找不到后向上一级寻找。而`JavaScript`采用的静态作用域。函数的作用域在声明时就确定了。所以上一级是`全局作用域(1)`。在这里找到了`value`。

## 作用域嵌套(作用域链)

当一个函数或块嵌套在另一个块和函数中时，就发生了作用域的嵌套

当无法找到当前作用域的`变量`，`函数`，`对象`时。会在外层的作用域继续查找。

直到找到该变量，或抵达全局作用域停止查找

将作用域链比作一座建筑，第一层就是`当前作用域`，建筑顶层就是`全局作用域`。从第一层开始一层层的寻找。如果没有找到，那就向上一层。直到找到或者到了顶层

## 错误

- typeError
- ReferenceError
